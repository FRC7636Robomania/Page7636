{"version":3,"file":"js/news.71f858b0.js","mappings":"mkBA+EAA,EAAAA,GAAAA,IAAe,CAACC,EAAAA,GAAYC,EAAAA,GAAYC,EAAAA,KAExC,MAAMC,GAAQC,EAAAA,EAAAA,KACRC,GAAOC,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,OAAOC,QAAU,OAC7CC,GAASH,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,OAAOE,QAAU,OAC/CC,GAAcJ,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,OAAOG,aAAe,KACzDC,GAAQL,EAAAA,EAAAA,KAAS,IAAMH,EAAMI,OAAOI,OAAS,KAC7CC,GAAYC,EAAAA,EAAAA,IAAI,IAChBC,GAAaD,EAAAA,EAAAA,IAAI,MACjBE,EAAgBC,IAAOC,EAAoBD,EAApB,EACvBE,EAAeC,GAAWA,EAAQC,OAASC,IAAuBF,EAAQG,MAAM,EAAGD,KAAwB,MAAQF,EACnHE,EAAqB,IACrBE,OAAOC,WAAa,IAAY,IAC3BD,OAAOC,WAAa,IAAY,IAC7B,IAGRP,EAAsBQ,GAAUC,YAAW,KAC/Cd,EAAUe,MAAQ,GAClBhB,EAAMgB,MAAMF,EAAOG,aAAaC,SAAQC,IACtC,MAAMC,EAAQ,CACZC,MAAO,CACLC,KAAMH,EACNI,KAAO,kBAAiBT,EAAOG,YAAc,KAAKE,KAEpDK,SAAU,MAEZvB,EAAUe,MAAMS,KAAKL,EAArB,GARF,IAWIM,EAAeZ,GAAUC,YAAW,KACxCT,EAAoBQ,EAApB,GACC,KACGa,GAASzB,EAAAA,EAAAA,KAAI,GACb0B,EAAc,KAAQhB,OAAOC,YAAc,IAAMc,EAAOX,OAAQ,EAAOW,EAAOX,OAAQ,CAAhE,E,OAE5Ba,EAAAA,EAAAA,KAAc,KACZjB,OAAOkB,iBAAiB,SAAUF,GAClCA,GAAa,KAGfC,EAAAA,EAAAA,KAAc,KACZrC,EAAMuC,YACNhB,YAAW,KACTZ,EAAWa,MAAQtB,EAAKsB,MAAMgB,QAAO,CAACC,EAAMC,IAASD,EAAOC,EAAKC,QAAQ1B,QAAQ,GACjFjB,EAAM4C,iBAAiBjC,EAAWa,MAAlC,GACC,IAHH,I,m6CCpHF,MAAMqB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,uBCRA,IAAIC,EAAM,CACT,gBAAiB,MAIlB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOG,EAAoBF,EAC5B,CACA,SAASC,EAAsBF,GAC9B,IAAIG,EAAoBC,EAAEN,EAAKE,GAAM,CACpC,IAAInC,EAAI,IAAIwC,MAAM,uBAAyBL,EAAM,KAEjD,MADAnC,EAAEyC,KAAO,mBACHzC,CACP,CACA,OAAOiC,EAAIE,EACZ,CACAD,EAAeQ,KAAO,WACrB,OAAOC,OAAOD,KAAKT,EACpB,EACAC,EAAeU,QAAUP,EACzBQ,EAAOC,QAAUZ,EACjBA,EAAeE,GAAK,I","sources":["webpack://frc7636-page/./src/views/NewsView.vue","webpack://frc7636-page/./src/views/NewsView.vue?08b8","webpack://frc7636-page/./src/assets/Elements/News/ sync ^\\.\\/.*$"],"sourcesContent":["<template>\r\n  <slideNav\r\n    v-if=\"!mobile\"\r\n    :links=\"sideLinks\"\r\n  />\r\n  <div class=\"news swiper-area\">\r\n    <swiper\r\n      :observer=\"true\"\r\n      :observe-parents=\"true\"\r\n      :pagination=\"{ clickable: true, dynamicBullets: false }\"\r\n      :navigation=\"true\"\r\n      :loop=\"false\"\r\n      :history=\"true\"\r\n      @swiper=\"initalSwiper\"\r\n      @slide-change=\"onSlideChange\"\r\n    >\r\n      <swiper-slide\r\n        v-for=\"(pageItems, page) in pageReports\"\r\n        :key=\"page\"\r\n        :data-history=\"`news/page${page + 1}`\"\r\n      >\r\n        <div\r\n          v-for=\"(item, yearIndex) in pageItems\"\r\n          :key=\"yearIndex\"\r\n          class=\"yearBlock\"\r\n        >\r\n          <span\r\n            :id=\"`newspage${page + 1}-${item.year}`\"\r\n            class=\"year\"\r\n          >\r\n            {{ item.year }}\r\n          </span>\r\n          <div class=\"reports\">\r\n            <template\r\n              v-for=\"(report, index) in item.reports\"\r\n              :key=\"index\"\r\n            >\r\n              <div class=\"report\">\r\n                <div class=\"day\">\r\n                  <span>{{ months[report.day.slice(0, -3)] }}</span>\r\n                  <br>\r\n                  <span class=\"number\">{{ report.day.slice(-2) }}</span>\r\n                </div>\r\n                <img\r\n                  v-if=\"report.image\"\r\n                  :src=\"require(`@/assets/Elements/News/${report.image}`)\"\r\n                >\r\n                <div style=\"margin-left: 80px\">\r\n                  <h1 class=\"title\">\r\n                    {{ report.title }}\r\n                  </h1>\r\n                  <p class=\"content\">\r\n                    {{ filterLength(report.content) }}\r\n                    <a\r\n                      v-show=\"report.content.length > 250\"\r\n                      href=\"/404\"\r\n                    >\r\n                      Read More\r\n                    </a>\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <div\r\n                class=\"divideLine\"\r\n                :class=\"{'last' : index === item.reports.length - 1}\"\r\n              />\r\n            </template>\r\n          </div>\r\n        </div>\r\n      </swiper-slide>\r\n    </swiper>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, onBeforeMount, ref } from 'vue'\r\nimport slideNav from '../components/SideNav.vue'\r\nimport { useNewsStore } from '@/js/stores/viewsData'\r\nimport SwiperCore, { Pagination, Navigation, History } from 'swiper'\r\nSwiperCore.use([Pagination, Navigation, History])\r\n\r\nconst store = useNewsStore()\r\nconst news = computed(() => store.$state.blocks || null)\r\nconst months = computed(() => store.$state.months || null)\r\nconst pageReports = computed(() => store.$state.pageReports || [])\r\nconst years = computed(() => store.$state.years || [])\r\nconst sideLinks = ref([])\r\nconst totalCount = ref(null)\r\nconst onSlideChange = e => { setControlledSwiper(e) }\r\nconst filterLength = content => content.length > textLengthStandard() ? content.slice(0, textLengthStandard()) + '...' : content\r\nconst textLengthStandard = () => {\r\n  if (window.innerWidth < 600) return 100\r\n  else if (window.innerWidth < 960) return 120\r\n  else return 250\r\n}\r\n\r\nconst setControlledSwiper = swiper => setTimeout(() => {\r\n  sideLinks.value = []\r\n  years.value[swiper.activeIndex].forEach(year => {\r\n    const links = {\r\n      title: {\r\n        name: year,\r\n        path: `slides/newspage${swiper.activeIndex + 1}/${year}`,\r\n      },\r\n      subTitle: null,\r\n    }\r\n    sideLinks.value.push(links)\r\n  })\r\n})\r\nconst initalSwiper = swiper => setTimeout(() => {\r\n  setControlledSwiper(swiper)\r\n}, 3000)\r\nconst mobile = ref(false)\r\nconst checkScreen = () => { window.innerWidth <= 960 ? mobile.value = true : mobile.value = false }\r\n\r\nonBeforeMount(() => {\r\n  window.addEventListener('resize', checkScreen)\r\n  checkScreen()\r\n})\r\n\r\nonBeforeMount(() => {\r\n  store.fetchData()\r\n  setTimeout(() => {\r\n    totalCount.value = news.value.reduce((prev, curr) => prev + curr.reports.length, 0)\r\n    store.buildSlideNavbar(totalCount.value)\r\n  }, 2000)\r\n})\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n@import \"@/assets/scss/views/news.scss\";\r\n</style>\r\n","import script from \"./NewsView.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./NewsView.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./NewsView.vue?vue&type=style&index=0&id=a07ffc28&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\marve\\\\OneDrive\\\\桌面\\\\Page-7636\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-a07ffc28\"]])\n\nexport default __exports__","var map = {\n\t\"./default.gif\": 3329\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 7881;"],"names":["SwiperCore","Pagination","Navigation","History","store","useNewsStore","news","computed","$state","blocks","months","pageReports","years","sideLinks","ref","totalCount","onSlideChange","e","setControlledSwiper","filterLength","content","length","textLengthStandard","slice","window","innerWidth","swiper","setTimeout","value","activeIndex","forEach","year","links","title","name","path","subTitle","push","initalSwiper","mobile","checkScreen","onBeforeMount","addEventListener","fetchData","reduce","prev","curr","reports","buildSlideNavbar","__exports__","map","webpackContext","req","id","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports"],"sourceRoot":""}